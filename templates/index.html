<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>SKY INDEX</title>
    <style>
        body { font-family: Arial, sans-serif; background-color: #f0f2f5; padding: 20px; }
        table { border-collapse: collapse; margin-top: 20px; table-layout: fixed; }
        th, td { border: 1px solid #ddd; padding: 2px; text-align: left; }
        th { background-color: #4CAF50; color: white; }
        input, select { width: 100%; padding: 4px; font-size: 14px; box-sizing: border-box; }
        select.sector-select { font-size: 13px; }
        .table-wrapper { overflow-x: auto; max-width: 100%; }
        .symbol-input { width: 80px; }
        .sector-select { width: 170px; }
        .zacks-output { width: 35px; }
        .sector-growth { width: 110px; }
        .eps-growth { width: 110px; }
        .revenue-growth { width: 110px; }
        .pe-ratio { width: 80px; }
        .volume-change { width: 110px; }
        th[data-tooltip] { position: relative; }
        th[data-tooltip]:hover::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 0;
            background: #333;
            color: #fff;
            padding: 2px 4px;
            white-space: nowrap;
            border-radius: 3px;
            font-size: 12px;
            z-index: 2;
        }
        button { padding: 6px; font-size: 14px; margin: 2px; }
    </style>
</head>
<body>
    <h1>SKY INDEX üí∞ü§©</h1>
    <form method="POST">
        <label>–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ä—è–¥–∫—ñ–≤: </label>
        <input type="number" name="rows_count" min="1" max="50" value="{{ rows|length }}">
        <button name="action" value="resize">–û–Ω–æ–≤–∏—Ç–∏</button>
        <div class="table-wrapper">
        <table>
            <thead>
                <tr>
                    <th data-tooltip="–ë—ñ—Ä–∂–æ–≤–∏–π —Ç–∏–∫–µ—Ä –∞–∫—Ü—ñ—ó –∞–±–æ ETF">Symbol</th>
                    <th data-tooltip="–ì–∞–ª—É–∑—å, –¥–æ —è–∫–æ—ó –Ω–∞–ª–µ–∂–∏—Ç—å –∫–æ–º–ø–∞–Ω—ñ—è">Sector</th>
                    <th data-tooltip="–†–µ–π—Ç–∏–Ω–≥ Zacks –≤—ñ–¥ 1 (—Å–∏–ª—å–Ω–∞ –ø–æ–∫—É–ø–∫–∞) –¥–æ 5 (–ø—Ä–æ–¥–∞–∂)">Zacks</th>
                    <th data-tooltip="–ó–º—ñ–Ω–∞ —Ü—ñ–Ω–∏ –≥–∞–ª—É–∑–µ–≤–æ–≥–æ ETF –∑–∞ –ø–µ–≤–Ω–∏–π –ø–µ—Ä—ñ–æ–¥">Sector Growth</th>
                    <th data-tooltip="–†—ñ—Å—Ç –ø—Ä–∏–±—É—Ç–∫—É –Ω–∞ –∞–∫—Ü—ñ—é –∑–∞ —Ä—ñ–∫ –∞–±–æ –∫–≤–∞—Ä—Ç–∞–ª">EPS Growth</th>
                    <th data-tooltip="–ó—Ä–æ—Å—Ç–∞–Ω–Ω—è –≤–∏—Ä—É—á–∫–∏ –∫–æ–º–ø–∞–Ω—ñ—ó">Revenue Growth</th>
                    <th data-tooltip="–°–ø—ñ–≤–≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è —Ü—ñ–Ω–∏ –¥–æ –ø—Ä–∏–±—É—Ç–∫—É">PE Ratio</th>
                    <th data-tooltip="–ó–º—ñ–Ω–∞ –æ–±—Å—è–≥—É —Ç–æ—Ä–≥—ñ–≤ –∑–∞ –¥–æ–±—É">Volume Change</th>
                    <th data-tooltip="–ü—ñ–¥—Å—É–º–∫–æ–≤–∞ –æ—Ü—ñ–Ω–∫–∞ –º–æ–¥–µ–ª—ñ">–û—Ü—ñ–Ω–∫–∞</th>
                    <th data-tooltip="–î–∞—Ç–∞, –Ω–∞ —è–∫—É –∑—ñ–±—Ä–∞–Ω—ñ —Ü—ñ –¥–∞–Ω—ñ">–î–∞—Ç–∞</th>
                </tr>
            </thead>
            <tbody>
                {% for row in rows %}
                {% set i = loop.index0 %}
                <tr>
                    <td><input type="text" class="symbol-input" name="symbol_{{ i }}" value="{{ row['Symbol'] }}"></td>
                    <td>
                        <select name="sector_{{ i }}" class="sector-select">
                            <option value=""></option>
                            {% for opt in sectors %}
                                <option value="{{ opt }}" {% if row['Sector'] == opt %}selected{% endif %}>{{ opt }}</option>
                            {% endfor %}
                        </select>
                    </td>
                    <td><input type="text" class="zacks-output" name="zacks_{{ i }}" value="{{ row['Zacks'] }}"></td>
                    <td><input type="text" class="sector-growth" name="sector_growth_{{ i }}" value="{{ row['Sector Growth'] }}"></td>
                    <td><input type="text" class="eps-growth" name="eps_growth_{{ i }}" value="{{ row['EPS Growth'] }}"></td>
                    <td><input type="text" class="revenue-growth" name="revenue_growth_{{ i }}" value="{{ row['Revenue Growth'] }}"></td>
                    <td><input type="text" class="pe-ratio" name="pe_ratio_{{ i }}" value="{{ row['PE Ratio'] }}"></td>
                    <td><input type="text" class="volume-change" name="volume_change_{{ i }}" value="{{ row['Volume Change'] }}"></td>
                    <td style="width: 60px;">{{ row['–û—Ü—ñ–Ω–∫–∞'] }}</td>
                    <td style="width: 90px;">{{ row['–î–∞—Ç–∞'] }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
        </div>
        <br>
        <button name="action" value="parse">–ü–∞—Ä—Å–∏–Ω–≥</button>
        <button name="action" value="evaluate">–û—Ü—ñ–Ω–∫–∞</button>
        <button name="action" value="save">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
    </form>
</body>
</html>
